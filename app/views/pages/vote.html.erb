<div class="w-full right-content">
  <img src="<%= asset_path('background/top-grass.png') %>" class="w-full" />
  <div class="child-container">
    <h1 class="font-medium text-lg">
      <%= I18n.t 'menu.vote' %>
    </h1>
    <div class="mt-2 text-sm mb-4">
      <%= I18n.t('vote.message') %>
    </div>
    <div class="w-full mt-2 flex items-center">
      <input
        id="vote-username"
        type="text"
        placeholder="<%= I18n.t('vote.account') %>"
        maxlength="20"
        onkeypress="onChange()"
        class="rounded border border-gray-200 shadow min-w-20 w-full"
        style="max-width: 273px"
      >
      <button
        class="rounded px-3 py-2 bg-blue-500 text-white ml-2"
        onclick="onClick()"
      >
        <%= I18n.t 'menu.vote' %>
      </button>
    </div>
    <div class="mt-1 text-xs text-red-500" id="error">
    </div>
  </div>
</div>
<script>
  const onClick = () => {
		const text = document.getElementById("vote-username");
	  const error = document.getElementById("error");
		if (text && text.value !== "") {
			window.open(`https://gtop100.com/topsites/MapleStory/sitedetails/MapleLatino-100792?vote=1&pingUsername=${text.value}`, "_blank");
    } else {
			if (error) {
				error.innerText = "Ingresa tu usuario";
      }
    }
  };
	const onChange = () => {
		const error = document.getElementById("error");
		error.innerText = "";
  };
</script>
